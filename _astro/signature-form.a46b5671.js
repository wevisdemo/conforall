import{n as Qt,s as ae,o as Xe,S as ke,i as Pe,e as tt,a as Wt,b as de,c as et,d as xt,f as j,g as Lt,h as Ye,j as dt,k as Je,t as Rt,l as Qe,m as jt,p as Ze,q as De,r as Ve,u as Te,v as Oe,w as Ce,x as We,y as Le,z as fe,A as he,B as se,C as z,D as V,E as me,F as tn,G as en,H as pe,I as nn,J as Me,K as Fe,L as Ne}from"./index.c6526390.js";function rn(e,...t){const r=e.subscribe(...t);return r.unsubscribe?()=>r.unsubscribe():r}function yt(e){let t;return rn(e,r=>t=r)(),t}class sn extends Error{constructor(t,r){super(t),this.name="FelteSubmitError",this.response=r}}function on(e,t){return Object.keys(e).some(n=>t(e[n]))}function ee(e,t){return Object.keys(e||{}).reduce((n,s)=>Object.assign(Object.assign({},n),{[s]:t(e[s])}),{})}function A(e){return Object.prototype.toString.call(e)==="[object Object]"}function X(e){return Object.keys(e||{}).reduce((t,r)=>Object.assign(Object.assign({},t),{[r]:A(e[r])?X(e[r]):Array.isArray(e[r])?[...e[r]]:e[r]}),{})}function an(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function ln(e){return function(t){if(A(t)){const r=Y(t,e);return an(r,["key"])}return e}}function Y(e,t){return ee(e,r=>A(r)?Y(r,t):Array.isArray(r)?r.map(ln(t)):t)}function kt(...e){const t=e.pop(),r=e.shift();if(typeof r=="string")return r;const n=X(r);if(e.length===0)return n;for(const s of e){if(!s)continue;if(typeof s=="string")return s;let i=t(n,s);if(typeof i<"u")return i;const o=Array.from(new Set(Object.keys(n).concat(Object.keys(s))));for(const a of o)if(i=t(n[a],s[a]),typeof i<"u")n[a]=i;else if(A(s[a])&&A(n[a]))n[a]=kt(n[a],s[a],t);else if(Array.isArray(s[a]))n[a]=s[a].map((l,c)=>{if(!A(l))return l;const u=Array.isArray(n[a])?n[a][c]:n[a];return kt(u,l,t)});else if(A(s[a])){const l=Y(X(s[a]),void 0);n[a]=kt(l,s[a],t)}else typeof s[a]<"u"&&(n[a]=s[a])}return n}function cn(e,t){if(!(A(e)&&A(t))){if(Array.isArray(t)){if(t.some(A))return;const r=Array.isArray(e)?e:[];return t.map((n,s)=>{var i;return(i=r[s])!==null&&i!==void 0?i:n})}if(typeof e<"u")return e}}function ve(...e){return kt(...e,cn)}function Ie(...e){return kt(...e,()=>{})}function ft(e,t,r){const n=i=>String.prototype.split.call(t,i).filter(Boolean).reduce((o,a)=>o!=null?o[a]:o,e),s=n(/[,[\]]+?/)||n(/[,[\].]+?/);return s===void 0||s===e?r:s}function Xt(e,t,r){e&&(e=X(e)),A(e)||(e={});const n=Array.isArray(t)?t:t.match(/[^.[\]]+/g)||[],s=n[n.length-1];if(!s)return e;let i=e;for(let o=0;o<n.length-1;o++){const a=n[o];if(!i[a]||!A(i[a])&&!Array.isArray(i[a])){const l=n[o+1];isNaN(Number(l))?i[a]={}:i[a]=[]}i=i[a]}return i[s]=r(i[s]),e}function D(e,t,r){return Xt(e,t,()=>r)}function Gt(e,t){if(!e||Object(e)!==e)return;typeof e<"u"&&(e=X(e));const r=Array.isArray(t)?t:t.toString().match(/[^.[\]]+/g)||[],n=r.length===1?e:ft(e,r.slice(0,-1).join("."));return Array.isArray(n)?n.splice(Number(r[r.length-1]),1):n==null||delete n[r[r.length-1]],e}function Ht(e,t){return on(e,r=>A(r)?Ht(r,t):Array.isArray(r)?r.length===0||r.every(n=>typeof n=="string")?t(r):r.some(n=>A(n)?Ht(n,t):t(n)):t(r))}function $t(e){return e?.nodeName==="INPUT"}function un(e){return e?.nodeName==="TEXTAREA"}function Ut(e){return e?.nodeName==="SELECT"}function ne(e){return e?.nodeName==="FIELDSET"}function B(e){return $t(e)||un(e)||Ut(e)}function ye(e){return e.nodeType===Node.ELEMENT_NODE}function R(e,t){return t??(B(e)?e.name:"")}function re(e){let t=e;for(;t&&t.nodeName!=="FORM";){if(t.hasAttribute("data-felte-ignore"))return!0;t=t.parentElement}return!1}function dn(e,t){if(!(A(e)||A(t))){if(e===null||e==="")return t;if(t===null||t===""||!t)return e;if(!(!e||!t)){if(Array.isArray(e)){if(!Array.isArray(t))return[...e,t];const r=[],n=Math.max(t.length,e.length);for(let s=0;s<n;s++){let i=e[s],o=t[s];!A(i)&&!A(o)?(Array.isArray(i)||(i=[i]),Array.isArray(o)||(o=[o]),r.push(...i,...o)):r.push(It([i??{},o??{}]))}return r.filter(Boolean)}return Array.isArray(t)||(t=[t]),[e,...t].reduce((r,n)=>r.concat(n),[]).filter(Boolean)}}}function It(e){return kt(...e,dn)}function fn(e,t){return t?(Array.isArray(t)?t:[t]).map(n=>n(e)):[]}function ie(e,t){return t?Array.isArray(t)?t.reduce((r,n)=>n(r),e):t(e):e}function le(e=8){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let r="";for(let n=0;n<e;n++)r+=t.charAt(Math.floor(Math.random()*t.length));return r}function Zt(e,t,{onInit:r,onEnd:n}={}){let s;return(...i)=>{s||r?.(),s&&clearTimeout(s),s=setTimeout(()=>{e.apply(this,i),s=void 0,n?.()},t)}}function oe(e){if(B(e))return[e];if(e.childElementCount===0)return[];const t=new Set;for(const r of e.children){if(B(r)&&t.add(r),ne(r))for(const n of r.elements)B(n)&&t.add(n);r.childElementCount>0&&oe(r).forEach(n=>t.add(n))}return Array.from(t)}function $e(e){for(const t of e.elements)!B(t)&&!ne(t)||e.hasAttribute("data-felte-keep-on-remove")&&!t.hasAttribute("data-felte-keep-on-remove")&&(t.dataset.felteKeepOnRemove=e.dataset.felteKeepOnRemove)}function Ue(e){return e.type.match(/^(number|range)$/)?e.value?+e.value:void 0:e.value}function _e(e){var t;let r={},n={};for(const s of e.elements){if(ne(s)&&$e(s),!B(s)||!s.name)continue;const i=R(s);if($t(s)){if(s.type==="checkbox"){if(typeof ft(r,i)>"u"){if(Array.from(e.querySelectorAll(`[name="${s.name}"]`)).filter(l=>B(l)?i===R(l):!1).length===1){r=D(r,i,s.checked),n=D(n,i,!1);continue}r=D(r,i,s.checked?[s.value]:[]),n=D(n,i,!1);continue}Array.isArray(ft(r,i))&&s.checked&&(r=Xt(r,i,a=>[...a,s.value]));continue}if(s.type==="radio"){if(ft(r,i))continue;r=D(r,i,s.checked?s.value:void 0),n=D(n,i,!1);continue}if(s.type==="file"){r=D(r,i,s.multiple?Array.from(s.files||[]):(t=s.files)===null||t===void 0?void 0:t[0]),n=D(n,i,!1);continue}}else if(Ut(s)){if(!s.multiple)r=D(r,i,s.value);else{const l=Array.from(s.selectedOptions).map(c=>c.value);r=D(r,i,l)}n=D(n,i,!1);continue}const o=Ue(s);r=D(r,i,o),n=D(n,i,!1)}return{defaultData:r,defaultTouched:n}}function hn(e,t){var r;if(!B(e))return;const n=t;if($t(e)){if(e.type==="checkbox"){const s=n;if(typeof s>"u"||typeof s=="boolean"){e.checked=!!s;return}Array.isArray(s)&&(s.includes(e.value)?e.checked=!0:e.checked=!1);return}if(e.type==="radio"){const s=n;e.value===s?e.checked=!0:e.checked=!1;return}if(e.type==="file"){if(t instanceof FileList)e.files=t;else if(t instanceof File&&typeof DataTransfer<"u"){const s=new DataTransfer;s.items.add(t),e.files=s.files}else if(typeof DataTransfer<"u"&&Array.isArray(t)&&t.some(s=>s instanceof File)){const s=new DataTransfer;for(const i of t)i instanceof File&&s.items.add(i);e.files=s.files}else(!t||Array.isArray(t)&&!t.length)&&(e.files=null,e.value="");return}}else if(Ut(e)){if(e.multiple){if(Array.isArray(n)){e.value=String((r=n[0])!==null&&r!==void 0?r:"");const i=n.map(o=>String(o));for(const o of e.options)i.includes(o.value)?o.selected=!0:o.selected=!1}}else{e.value=String(n??"");for(const i of e.options)i.value===String(n)?i.selected=!0:i.selected=!1}return}e.value=String(n??"")}function Yt(e,t){for(const r of e.elements){if(ne(r)&&$e(r),!B(r)||!r.name)continue;const n=R(r);hn(r,ft(t,n))}}function Re(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function _t(e,t){return ee(e,r=>A(r)?_t(r,t):Array.isArray(r)?r.length===0||r.every(n=>typeof n=="string")?t:r.map(n=>{const s=_t(n,t);return Re(s,["key"])}):t)}function Ft(e){return e?ee(e,t=>A(t)?Ft(t):Array.isArray(t)?t.length===0||t.every(r=>typeof r=="string")?t:t.map(r=>{if(!A(r))return r;const n=Ft(r);return n.key||(n.key=le()),n}):t):{}}function Mt(e){return e?ee(e,t=>A(t)?Mt(t):Array.isArray(t)?t.length===0||t.every(r=>typeof r=="string")?t:t.map(r=>{if(!A(r))return r;const n=Mt(r);return Re(n,["key"])}):t):{}}function mn(){class e extends CustomEvent{constructor(s){super("feltesuccess",{detail:s})}}class t extends CustomEvent{constructor(s){super("felteerror",{detail:s,cancelable:!0})}setErrors(s){this.preventDefault(),this.errors=s}}class r extends Event{constructor(){super("feltesubmit",{cancelable:!0})}handleSubmit(s){this.onSubmit=s}handleError(s){this.onError=s}handleSuccess(s){this.onSuccess=s}}return{createErrorEvent:n=>new t(n),createSubmitEvent:()=>new r,createSuccessEvent:n=>new e(n)}}function pn(e){if(e)return async function(){let r=new FormData(e);const n=new URL(e.action),s=e.method.toLowerCase()==="get"?"get":n.searchParams.get("_method")||e.method;let i=e.enctype;e.querySelector('input[type="file"]')&&(i="multipart/form-data"),(s==="get"||i==="application/x-www-form-urlencoded")&&(r=new URLSearchParams(r));let o;s==="get"?(r.forEach((l,c)=>{n.searchParams.append(c,l)}),o={method:s,headers:{Accept:"application/json"}}):o={method:s,body:r,headers:Object.assign(Object.assign({},i!=="multipart/form-data"&&{"Content-Type":i}),{Accept:"application/json"})};const a=await window.fetch(n.toString(),o);if(a.ok)return a;throw new sn("An error occurred while submitting the form",a)}}function Jt(e,t,r,n){return Xt(e,t,s=>(typeof s<"u"&&!Array.isArray(s)||(s||(s=[]),typeof n>"u"?s.push(r):s.splice(n,0,r)),s))}function vn(e,t,r,n){return Xt(e,t,s=>(!s||!Array.isArray(s)||([s[r],s[n]]=[s[n],s[r]]),s))}function yn(e,t,r,n){return Xt(e,t,s=>(!s||!Array.isArray(s)||s.splice(n,0,s.splice(r,1)[0]),s))}function be(e){return typeof e=="function"}function St(e){return(r,n)=>{if(typeof r=="string"){const s=r;e(i=>{const o=be(n)?n(ft(i,s)):n;return D(i,s,o)})}else e(s=>be(r)?r(s):r)}}function _n({stores:e,config:t,validateErrors:r,validateWarnings:n,_getCurrentExtenders:s}){var i;let o,a=Ft((i=t.initialValues)!==null&&i!==void 0?i:{});const{data:l,touched:c,errors:u,warnings:d,isDirty:h,isSubmitting:b,interacted:y}=e,x=St(l.update),O=St(c.update),p=St(u.update),k=St(d.update);function F(m){x(w=>{const E=m(w);return o&&Yt(o,E),E})}const T=(m,w,E)=>{St(F)(m,w),typeof m=="string"&&E&&O(m,!0)};function ht(m,w,E){const L=A(w)?_t(w,!1):!1,I=A(L)?Y(L,[]):[];w=A(w)?Object.assign(Object.assign({},w),{key:le()}):w,u.update(M=>Jt(M,m,I,E)),d.update(M=>Jt(M,m,I,E)),c.update(M=>Jt(M,m,L,E)),l.update(M=>{const Z=Jt(M,m,w,E);return setTimeout(()=>o&&Yt(o,Z)),Z})}function N(m){u.update(m),d.update(m),c.update(m),l.update(w=>{const E=m(w);return setTimeout(()=>o&&Yt(o,E)),E})}function J(m){N(w=>Gt(w,m))}function st(m,w,E){N(L=>vn(L,m,w,E))}function it(m,w,E){N(L=>yn(L,m,w,E))}function bt(m){const w=ft(a,m),E=A(w)?_t(w,!1):!1,L=A(E)?Y(E,[]):[];l.update(I=>{const M=D(I,m,w);return o&&Yt(o,M),M}),c.update(I=>D(I,m,E)),u.update(I=>D(I,m,L)),d.update(I=>D(I,m,L))}const S=St(b.update),G=St(h.update),ot=St(y.update);async function mt(){const m=yt(l);c.set(_t(m,!0)),y.set(null);const w=await r(m);return await n(m),w}function pt(){T(X(a)),O(m=>Y(m,!1)),y.set(null),h.set(!1)}function W(m){return async function(E){var L,I,M,Z,vt,Pt,Dt;const{createErrorEvent:Bt,createSubmitEvent:qt,createSuccessEvent:Tt}=mn(),lt=qt();o?.dispatchEvent(lt);const v=(I=(L=lt.onError)!==null&&L!==void 0?L:m?.onError)!==null&&I!==void 0?I:t.onError,f=(Z=(M=lt.onSuccess)!==null&&M!==void 0?M:m?.onSuccess)!==null&&Z!==void 0?Z:t.onSuccess,_=(Dt=(Pt=(vt=lt.onSubmit)!==null&&vt!==void 0?vt:m?.onSubmit)!==null&&Pt!==void 0?Pt:t.onSubmit)!==null&&Dt!==void 0?Dt:pn(o);if(!_||(E?.preventDefault(),lt.defaultPrevented))return;b.set(!0),y.set(null);const g=Mt(yt(l)),H=await r(g,m?.validate),Et=await n(g,m?.warn);if(Et&&d.set(Ie(Y(g,[]),Et)),c.set(_t(g,!0)),H&&(c.set(_t(H,!0)),Ht(H,U=>Array.isArray(U)?U.length>=1:!!U))){await new Promise(U=>setTimeout(U)),s().forEach(U=>{var nt;return(nt=U.onSubmitError)===null||nt===void 0?void 0:nt.call(U,{data:g,errors:H})}),b.set(!1);return}const ct={event:E,setFields:T,setData:x,setTouched:O,setErrors:p,setWarnings:k,unsetField:J,addField:ht,resetField:bt,reset:pt,setInitialValues:at.setInitialValues,moveField:it,swapFields:st,form:o,controls:o&&Array.from(o.elements).filter(B),config:Object.assign(Object.assign({},t),m)};try{const $=await _(g,ct);o?.dispatchEvent(Tt(Object.assign({response:$},ct))),await f?.($,ct)}catch($){const U=Bt(Object.assign({error:$},ct));if(o?.dispatchEvent(U),!v&&!U.defaultPrevented)throw $;if(!v&&!U.errors)return;const nt=U.errors||await v?.($,ct);nt&&(c.set(_t(nt,!0)),u.set(nt),await new Promise(ut=>setTimeout(ut)),s().forEach(ut=>{var wt;return(wt=ut.onSubmitError)===null||wt===void 0?void 0:wt.call(ut,{data:g,errors:yt(u)})}))}finally{b.set(!1)}}}const at={setData:x,setFields:T,setTouched:O,setErrors:p,setWarnings:k,setIsSubmitting:S,setIsDirty:G,setInteracted:ot,validate:mt,reset:pt,unsetField:J,resetField:bt,addField:ht,swapFields:st,moveField:it,createSubmitHandler:W,handleSubmit:W(),setInitialValues:m=>{a=Ft(m)}};return{public:at,private:{_setFormNode(m){o=m},_getInitialValues:()=>a}}}function bn({helpers:e,stores:t,config:r,extender:n,createSubmitHandler:s,handleSubmit:i,_setFormNode:o,_getInitialValues:a,_setCurrentExtenders:l,_getCurrentExtenders:c}){const{setFields:u,setTouched:d,reset:h,setInitialValues:b}=e,{addValidator:y,addTransformer:x,validate:O}=e,{data:p,errors:k,warnings:F,touched:T,isSubmitting:ht,isDirty:N,interacted:J,isValid:st,isValidating:it}=t;function bt(S){S.requestSubmit||(S.requestSubmit=i);function G(v){return function(f){return f({form:S,stage:v,controls:Array.from(S.elements).filter(B),data:p,errors:k,warnings:F,touched:T,isValid:st,isValidating:it,isSubmitting:ht,isDirty:N,interacted:J,config:r,addValidator:y,addTransformer:x,setFields:u,validate:O,reset:h,createSubmitHandler:s,handleSubmit:i})}}l(n.map(G("MOUNT"))),S.noValidate=!!r.validate;const{defaultData:ot,defaultTouched:mt}=_e(S);o(S),b(Ie(X(ot),a())),u(a()),T.set(mt);function pt(v){const f=R(v),_=Array.from(S.querySelectorAll(`[name="${v.name}"]`)).filter(g=>B(g)?f===R(g):!1);if(_.length!==0)return _.length===1?p.update(g=>D(g,R(v),v.checked)):p.update(g=>D(g,R(v),_.filter($t).filter(H=>H.checked).map(H=>H.value)))}function W(v){const f=S.querySelectorAll(`[name="${v.name}"]`),_=Array.from(f).find(g=>$t(g)&&g.checked);p.update(g=>D(g,R(v),_?.value))}function at(v){var f;const _=Array.from((f=v.files)!==null&&f!==void 0?f:[]);p.update(g=>D(g,R(v),v.multiple?_:_[0]))}function gt(v){if(!v.multiple)p.update(f=>D(f,R(v),v.value));else{const f=Array.from(v.selectedOptions).map(_=>_.value);p.update(_=>D(_,R(v),f))}}function m(v){const f=v.target;if(!f||!B(f)||Ut(f)||re(f)||["checkbox","radio","file"].includes(f.type)||!f.name)return;N.set(!0);const _=Ue(f);J.set(f.name),p.update(g=>D(g,R(f),_))}function w(v){const f=v.target;if(!(!f||!B(f)||re(f))&&f.name)if(d(R(f),!0),J.set(f.name),(Ut(f)||["checkbox","radio","file","hidden"].includes(f.type))&&N.set(!0),f.type==="hidden"&&p.update(_=>D(_,R(f),f.value)),Ut(f))gt(f);else if($t(f))f.type==="checkbox"?pt(f):f.type==="radio"?W(f):f.type==="file"&&at(f);else return}function E(v){const f=v.target;!f||!B(f)||re(f)||f.name&&(d(R(f),!0),J.set(f.name))}function L(v){v.preventDefault(),h()}const I={childList:!0,subtree:!0};function M(v){let f=yt(p),_=yt(T),g=yt(k),H=yt(F);for(const Et of v.reverse()){if(Et.hasAttribute("data-felte-keep-on-remove")&&Et.dataset.felteKeepOnRemove!=="false")continue;const ct=/.*(\[[0-9]+\]|\.[0-9]+)\.[^.]+$/;let $=R(Et);const U=yt(T);if(ct.test($)){const ut=$.split(".").slice(0,-1).join("."),wt=ft(U,ut);A(wt)&&Object.keys(wt).length<=1&&($=ut)}f=Gt(f,$),_=Gt(_,$),g=Gt(g,$),H=Gt(H,$)}p.set(f),T.set(_),k.set(g),F.set(H)}const Z=Zt(()=>{c().forEach(_=>{var g;return(g=_.destroy)===null||g===void 0?void 0:g.call(_)}),l(n.map(G("UPDATE")));const{defaultData:v,defaultTouched:f}=_e(S);p.update(_=>ve(_,v)),T.update(_=>ve(_,f)),e.setFields(yt(p))},0);let vt=[];const Pt=Zt(()=>{c().forEach(v=>{var f;return(f=v.destroy)===null||f===void 0?void 0:f.call(v)}),l(n.map(G("UPDATE"))),M(vt),vt=[]},0);function Dt(v){Array.from(v.addedNodes).some(_=>ye(_)?B(_)?!0:oe(_).length>0:!1)&&Z()}function Bt(v){for(const f of v.removedNodes){if(!ye(f))continue;const _=oe(f);_.length!==0&&(vt.push(..._),Pt())}}function qt(v){for(const f of v)f.type==="childList"&&(f.addedNodes.length>0&&Dt(f),f.removedNodes.length>0&&Bt(f))}const Tt=new MutationObserver(qt);Tt.observe(S,I),S.addEventListener("input",m),S.addEventListener("change",w),S.addEventListener("focusout",E),S.addEventListener("submit",i),S.addEventListener("reset",L);const lt=k.subscribe(v=>{for(const f of S.elements){if(!B(f)||!f.name)continue;const _=ft(v,R(f)),g=Array.isArray(_)?_.join(`
`):typeof _=="string"?_:void 0;g!==f.dataset.felteValidationMessage&&(g?(f.dataset.felteValidationMessage=g,f.setAttribute("aria-invalid","true")):(delete f.dataset.felteValidationMessage,f.removeAttribute("aria-invalid")))}});return{destroy(){Tt.disconnect(),S.removeEventListener("input",m),S.removeEventListener("change",w),S.removeEventListener("focusout",E),S.removeEventListener("submit",i),S.removeEventListener("reset",L),lt(),c().forEach(v=>{var f;return(f=v.destroy)===null||f===void 0?void 0:f.call(v)})}}}return{form:bt}}function gn(e){const t={aborted:!1,priority:e};return{signal:t,abort(){t.aborted=!0}}}function En(e,t){if(A(e))return!t||A(t)&&Object.keys(t).length===0?Y(e,null):void 0;if(Array.isArray(e)){if(e.some(A))return;const r=Array.isArray(t)?t:[];return e.map((n,s)=>{const i=r[s];return Array.isArray(i)&&i.length===0?null:n&&i||null})}return Array.isArray(t)&&t.length===0?null:Array.isArray(t)?e?t:null:e&&t?[t]:null}function wn(e,t){if(A(e))return!t||A(t)&&Object.keys(t).length===0?Y(e,null):void 0;if(Array.isArray(e)){if(e.some(A))return;const r=Array.isArray(t)?t:[];return e.map((n,s)=>{const i=r[s];return Array.isArray(i)&&i.length===0?null:i||null})}return Array.isArray(t)&&t.length===0?null:Array.isArray(t)?t:t?[t]:null}function An([e,t]){return kt(t,e,En)}function Sn([e,t]){return kt(t,e,wn)}function xn(e){return function(r,n,s){const i=Array.isArray(r)?r:[r],o=new Array(i.length),a=e(s),l=a.set,c=a.subscribe;let u;function d(){u=i.map((b,y)=>b.subscribe(x=>{o[y]=x,l(n(o))}))}function h(){u?.forEach(b=>b())}return a.subscribe=function(y){const x=c(y);return()=>{x()}},[a,d,h]}}function kn(e,t){var r,n,s,i,o,a,l,c,u;const d=xn(e),h=t.initialValues=t.initialValues?Ft(ie(X(t.initialValues),t.transform)):{},b=_t(Mt(h),!1),y=e(b),x=e(0),[O,p,k]=d([y,x],([C,P])=>Ht(C,Q=>!!Q)&&P>=1,!1);delete O.set,delete O.update;function F(C){let P;return async function(Q,rt,K,Ot=!1){if(!K||!Q)return;let At=rt&&Object.keys(rt).length>0?rt:Y(Q,[]);const Ct=gn(Ot);if((!P?.signal.priority||Ot)&&(P?.abort(),P=Ct),P.signal.priority&&!Ot)return;x.update(zt=>zt+1);const ue=fn(Q,K);return ue.forEach(async zt=>{const Ke=await zt;Ct.signal.aborted||(At=It([At,Ke]),C.set(At))}),await Promise.all(ue),P=void 0,x.update(zt=>zt-1),At}}let T=Y(b,[]);const ht=e(h),N=Y(b,[]),J=e(N),st=e(X(N)),[it,bt,S]=d([J,st],It,X(N)),G=Y(b,[]),ot=e(G),mt=e(X(G)),[pt,W,at]=d([ot,mt],It,X(G)),[gt,m,w]=d([it,y],An,X(N)),[E,L,I]=d([pt,y],Sn,X(G));let M=!1;const[Z,vt,Pt]=d(it,([C])=>{var P;return M?!Ht(C,q=>Array.isArray(q)?q.length>=1:!!q):(M=!0,!t.validate&&!(!((P=t.debounced)===null||P===void 0)&&P.validate))},!t.validate&&!(!((r=t.debounced)===null||r===void 0)&&r.validate));delete Z.set,delete Z.update;const Dt=e(!1),Bt=e(!1),qt=e(null),Tt=F(J),lt=F(ot),v=F(st),f=F(mt),_=Zt(v,(o=(s=(n=t.debounced)===null||n===void 0?void 0:n.validateTimeout)!==null&&s!==void 0?s:(i=t.debounced)===null||i===void 0?void 0:i.timeout)!==null&&o!==void 0?o:300,{onInit:()=>{x.update(C=>C+1)},onEnd:()=>{x.update(C=>C-1)}}),g=Zt(f,(u=(l=(a=t.debounced)===null||a===void 0?void 0:a.warnTimeout)!==null&&l!==void 0?l:(c=t.debounced)===null||c===void 0?void 0:c.timeout)!==null&&u!==void 0?u:300);async function H(C,P){var q;const Q=Mt(C),rt=Tt(Q,T,P??t.validate,!0);if(P)return rt;const K=v(Q,T,(q=t.debounced)===null||q===void 0?void 0:q.validate,!0);return It(await Promise.all([rt,K]))}async function Et(C,P){var q;const Q=Mt(C),rt=lt(Q,T,P??t.warn,!0);if(P)return rt;const K=f(Q,T,(q=t.debounced)===null||q===void 0?void 0:q.warn,!0);return It(await Promise.all([rt,K]))}let ct=N,$=G;function U(){const C=ht.subscribe(K=>{var Ot,At;const Ct=Mt(K);Tt(Ct,T,t.validate),lt(Ct,T,t.warn),_(Ct,T,(Ot=t.debounced)===null||Ot===void 0?void 0:Ot.validate),g(Ct,T,(At=t.debounced)===null||At===void 0?void 0:At.warn)}),P=y.subscribe(K=>{T=Y(K,[])}),q=it.subscribe(K=>{ct=K}),Q=pt.subscribe(K=>{$=K});bt(),vt(),W(),m(),L(),p();function rt(){C(),w(),S(),at(),I(),Pt(),k(),P(),q(),Q()}return rt}function nt(C){J.set(C(ct)),st.set({})}function ut(C){ot.set(C($)),mt.set({})}function wt(C){nt(()=>C)}function He(C){ut(()=>C)}return gt.set=wt,gt.update=nt,E.set=He,E.update=ut,{data:ht,errors:gt,warnings:E,touched:y,isValid:Z,isSubmitting:Dt,isDirty:Bt,isValidating:O,interacted:qt,validateErrors:H,validateWarnings:Et,cleanup:t.preventStoreStart?()=>{}:U(),start:U}}function Pn(e,t){var r,n;(r=e.extend)!==null&&r!==void 0||(e.extend=[]),(n=e.debounced)!==null&&n!==void 0||(e.debounced={}),e.validate&&!Array.isArray(e.validate)&&(e.validate=[e.validate]),e.debounced.validate&&!Array.isArray(e.debounced.validate)&&(e.debounced.validate=[e.debounced.validate]),e.transform&&!Array.isArray(e.transform)&&(e.transform=[e.transform]),e.warn&&!Array.isArray(e.warn)&&(e.warn=[e.warn]),e.debounced.warn&&!Array.isArray(e.debounced.warn)&&(e.debounced.warn=[e.debounced.warn]);function s(W,{debounced:at,level:gt}={debounced:!1,level:"error"}){var m;const w=gt==="error"?"validate":"warn";(m=e.debounced)!==null&&m!==void 0||(e.debounced={});const E=at?e.debounced:e;E[w]?E[w]=[...E[w],W]:E[w]=[W]}function i(W){e.transform?e.transform=[...e.transform,W]:e.transform=[W]}const o=Array.isArray(e.extend)?e.extend:[e.extend];let a=[];const l=()=>a,c=W=>{a=W},{isSubmitting:u,isValidating:d,data:h,errors:b,warnings:y,touched:x,isValid:O,isDirty:p,cleanup:k,start:F,validateErrors:T,validateWarnings:ht,interacted:N}=kn(t.storeFactory,e),J=h.update,st=h.set,it=W=>J(at=>Ft(ie(W(at),e.transform))),bt=W=>st(Ft(ie(W,e.transform)));h.update=it,h.set=bt;const S=_n({extender:o,config:e,addValidator:s,addTransformer:i,validateErrors:T,validateWarnings:ht,_getCurrentExtenders:l,stores:{data:h,errors:b,warnings:y,touched:x,isValid:O,isValidating:d,isSubmitting:u,isDirty:p,interacted:N}}),{createSubmitHandler:G,handleSubmit:ot}=S.public;a=o.map(W=>W({stage:"SETUP",errors:b,warnings:y,touched:x,data:h,isDirty:p,isValid:O,isValidating:d,isSubmitting:u,interacted:N,config:e,addValidator:s,addTransformer:i,setFields:S.public.setFields,reset:S.public.reset,validate:S.public.validate,handleSubmit:ot,createSubmitHandler:G}));const mt=Object.assign({config:e,stores:{data:h,touched:x,errors:b,warnings:y,isSubmitting:u,isValidating:d,isValid:O,isDirty:p,interacted:N},createSubmitHandler:G,handleSubmit:ot,helpers:Object.assign(Object.assign({},S.public),{addTransformer:i,addValidator:s}),extender:o,_getCurrentExtenders:l,_setCurrentExtenders:c},S.private),{form:pt}=bn(mt);return Object.assign({data:h,errors:b,warnings:y,touched:x,isValid:O,isSubmitting:u,isValidating:d,isDirty:p,interacted:N,form:pt,cleanup:k,startStores:F},S.public)}function Dn(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}const Nt=[];function je(e,t=Qt){let r;const n=new Set;function s(a){if(ae(e,a)&&(e=a,r)){const l=!Nt.length;for(const c of n)c[1](),Nt.push(c,e);if(l){for(let c=0;c<Nt.length;c+=2)Nt[c][0](Nt[c+1]);Nt.length=0}}}function i(a){s(a(e))}function o(a,l=Qt){const c=[a,l];return n.add(c),n.size===1&&(r=t(s,i)||Qt),a(e),()=>{n.delete(c),n.size===0&&r&&(r(),r=null)}}return{set:s,update:i,subscribe:o}}function Tn(e){const t=Pn(e??{},{storeFactory:je}),{cleanup:r,startStores:n}=t,s=Dn(t,["cleanup","startStores"]);return Xe(r),s}const Be={},qe={};function ge(e){const t=e.config;if(e.stage==="SETUP"){if(!t.__felteReporterSvelteId){const r=le(21);t.__felteReporterSvelteId=r,Be[r]=e.errors,qe[r]=e.warnings}return{}}return e.form.hasAttribute("data-felte-reporter-svelte-id")||(e.form.dataset.felteReporterSvelteId=t.__felteReporterSvelteId),{onSubmitError(){const r=e&&e.form.querySelector('[aria-invalid="true"]:not([type="hidden"])');r&&r.focus()}}}function On(e){return!e||"preventFocusOnError"in e?t=>ge(t):ge(e)}const Cn=e=>({}),Ee=e=>({}),Wn=e=>({messages:e&4}),we=e=>({messages:e[2]});function Ln(e){let t;const r=e[9].placeholder,n=Oe(r,e,e[8],Ee);return{c(){n&&n.c()},l(s){n&&n.l(s)},m(s,i){n&&n.m(s,i),t=!0},p(s,i){n&&n.p&&(!t||i&256)&&Ce(n,r,s,s[8],t?Le(r,s[8],i,Cn):We(s[8]),Ee)},i(s){t||(jt(n,s),t=!0)},o(s){Rt(n,s),t=!1},d(s){n&&n.d(s)}}}function Mn(e){let t;const r=e[9].default,n=Oe(r,e,e[8],we);return{c(){n&&n.c()},l(s){n&&n.l(s)},m(s,i){n&&n.m(s,i),t=!0},p(s,i){n&&n.p&&(!t||i&260)&&Ce(n,r,s,s[8],t?Le(r,s[8],i,Wn):We(s[8]),we)},i(s){t||(jt(n,s),t=!0)},o(s){Rt(n,s),t=!1},d(s){n&&n.d(s)}}}function Fn(e){let t,r,n,s,i,o;const a=[Mn,Ln],l=[];function c(u,d){return!u[3].placeholder||u[2]?0:1}return n=c(e),s=l[n]=a[n](e),{c(){t=tt("div"),r=Wt(),s.c(),i=de(),this.h()},l(u){t=et(u,"DIV",{style:!0}),xt(t).forEach(j),r=Lt(u),s.l(u),i=de(),this.h()},h(){Ye(t,"display","none")},m(u,d){dt(u,t,d),e[10](t),dt(u,r,d),l[n].m(u,d),dt(u,i,d),o=!0},p(u,[d]){let h=n;n=c(u),n===h?l[n].p(u,d):(Je(),Rt(l[h],1,1,()=>{l[h]=null}),Qe(),s=l[n],s?s.p(u,d):(s=l[n]=a[n](u),s.c()),jt(s,1),s.m(i.parentNode,i))},i(u){o||(jt(s),o=!0)},o(u){Rt(s),o=!1},d(u){u&&(j(t),j(r),j(i)),e[10](null),l[n].d(u)}}}function Nn(e,t,r){let n,s,i=Qt,o=()=>(i(),i=Ve(h,p=>r(7,s=p)),h);e.$$.on_destroy.push(()=>i());let{$$slots:a={},$$scope:l}=t;const c=Ze(a);let{level:u="error"}=t,{for:d}=t,h,b,y;function x(){return y.closest("form")}De(()=>{r(6,b=R(y,d));const k=x();o(k?u==="error"?r(0,h=Be[k.dataset.felteReporterSvelteId]):r(0,h=qe[k.dataset.felteReporterSvelteId]):r(0,h=je({})))});function O(p){Te[p?"unshift":"push"](()=>{y=p,r(1,y)})}return e.$$set=p=>{"level"in p&&r(4,u=p.level),"for"in p&&r(5,d=p.for),"$$scope"in p&&r(8,l=p.$$scope)},e.$$.update=()=>{e.$$.dirty&192&&r(2,n=b&&ft(s,b))},[h,y,n,c,u,d,b,s,l,a,O]}class In extends ke{constructor(t){super(),Pe(this,t,Nn,Fn,ae,{level:4,for:5})}}const Ae=In;function $n(e){return e.issues.reduce((t,r)=>{if(r.path){const n=r.path.map(({key:s})=>s).join(".");t.nested[n]=[...t.nested[n]||[],r.message]}else t.root=[...t.root||[],r.message];return t},{nested:{}})}var Kt=class extends Error{issues;constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function ze(e,t,r){let n=e;const s=[];for(const i of t)try{n=i(n,r)}catch(o){if(r.abortEarly||r.abortPipeEarly)throw o;s.push(...o.issues)}if(s.length)throw new Kt(s);return n}function Un(e,t){return[...e?.path||[],t]}function Ge(e,t){const[r,n=[]]=!e||typeof e=="string"?[e,t]:[void 0,e];return{error:r,pipe:n}}function Rn(e,t,r){const{error:n,pipe:s}=Ge(t,r);return{schema:"object",object:e,async:!1,parse(i,o){if(!i||typeof i!="object"||i.toString()!=="[object Object]")throw new Kt([{reason:"type",validation:"object",origin:"value",message:n||"Invalid type",input:i,...o}]);const a={},l=[];for(const[c,u]of Object.entries(e))try{const d=i[c];a[c]=u.parse(d,{...o,path:Un(o,{schema:"object",input:i,key:c,value:d})})}catch(d){if(o?.abortEarly)throw d;l.push(...d.issues)}if(l.length)throw new Kt(l);return ze(a,s,{...o,reason:"object"})}}}function Se(e,t){const{error:r,pipe:n}=Ge(e,t);return{schema:"string",async:!1,parse(s,i){if(typeof s!="string")throw new Kt([{reason:"type",validation:"string",origin:"value",message:r||"Invalid type",input:s,...i}]);return ze(s,n,{...i,reason:"string"})}}}function xe(e,t,r){return e.parse(t,r)}function jn(){return e=>e.trim()}function Bn(e,t){return(r,n)=>{if(r.length!==e)throw new Kt([{validation:"length",origin:"value",message:t||"Invalid length",input:r,...n}]);return r}}/*!
 * Signature Pad v4.1.6 | https://github.com/szimek/signature_pad
 * (c) 2023 Szymon Nowak | Released under the MIT license
 */class Vt{constructor(t,r,n,s){if(isNaN(t)||isNaN(r))throw new Error(`Point is invalid: (${t}, ${r})`);this.x=+t,this.y=+r,this.pressure=n||0,this.time=s||Date.now()}distanceTo(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))}equals(t){return this.x===t.x&&this.y===t.y&&this.pressure===t.pressure&&this.time===t.time}velocityFrom(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):0}}class ce{constructor(t,r,n,s,i,o){this.startPoint=t,this.control2=r,this.control1=n,this.endPoint=s,this.startWidth=i,this.endWidth=o}static fromPoints(t,r){const n=this.calculateControlPoints(t[0],t[1],t[2]).c2,s=this.calculateControlPoints(t[1],t[2],t[3]).c1;return new ce(t[1],n,s,t[2],r.start,r.end)}static calculateControlPoints(t,r,n){const s=t.x-r.x,i=t.y-r.y,o=r.x-n.x,a=r.y-n.y,l={x:(t.x+r.x)/2,y:(t.y+r.y)/2},c={x:(r.x+n.x)/2,y:(r.y+n.y)/2},u=Math.sqrt(s*s+i*i),d=Math.sqrt(o*o+a*a),h=l.x-c.x,b=l.y-c.y,y=d/(u+d),x={x:c.x+h*y,y:c.y+b*y},O=r.x-x.x,p=r.y-x.y;return{c1:new Vt(l.x+O,l.y+p),c2:new Vt(c.x+O,c.y+p)}}length(){let r=0,n,s;for(let i=0;i<=10;i+=1){const o=i/10,a=this.point(o,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),l=this.point(o,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(i>0){const c=a-n,u=l-s;r+=Math.sqrt(c*c+u*u)}n=a,s=l}return r}point(t,r,n,s,i){return r*(1-t)*(1-t)*(1-t)+3*n*(1-t)*(1-t)*t+3*s*(1-t)*t*t+i*t*t*t}}class qn{constructor(){try{this._et=new EventTarget}catch{this._et=document}}addEventListener(t,r,n){this._et.addEventListener(t,r,n)}dispatchEvent(t){return this._et.dispatchEvent(t)}removeEventListener(t,r,n){this._et.removeEventListener(t,r,n)}}function zn(e,t=250){let r=0,n=null,s,i,o;const a=()=>{r=Date.now(),n=null,s=e.apply(i,o),n||(i=null,o=[])};return function(...c){const u=Date.now(),d=t-(u-r);return i=this,o=c,d<=0||d>t?(n&&(clearTimeout(n),n=null),r=u,s=e.apply(i,o),n||(i=null,o=[])):n||(n=window.setTimeout(a,d)),s}}class te extends qn{constructor(t,r={}){super(),this.canvas=t,this._drawningStroke=!1,this._isEmpty=!0,this._lastPoints=[],this._data=[],this._lastVelocity=0,this._lastWidth=0,this._handleMouseDown=n=>{n.buttons===1&&(this._drawningStroke=!0,this._strokeBegin(n))},this._handleMouseMove=n=>{this._drawningStroke&&this._strokeMoveUpdate(n)},this._handleMouseUp=n=>{n.buttons===1&&this._drawningStroke&&(this._drawningStroke=!1,this._strokeEnd(n))},this._handleTouchStart=n=>{if(n.cancelable&&n.preventDefault(),n.targetTouches.length===1){const s=n.changedTouches[0];this._strokeBegin(s)}},this._handleTouchMove=n=>{n.cancelable&&n.preventDefault();const s=n.targetTouches[0];this._strokeMoveUpdate(s)},this._handleTouchEnd=n=>{if(n.target===this.canvas){n.cancelable&&n.preventDefault();const i=n.changedTouches[0];this._strokeEnd(i)}},this._handlePointerStart=n=>{this._drawningStroke=!0,n.preventDefault(),this._strokeBegin(n)},this._handlePointerMove=n=>{this._drawningStroke&&(n.preventDefault(),this._strokeMoveUpdate(n))},this._handlePointerEnd=n=>{this._drawningStroke&&(n.preventDefault(),this._drawningStroke=!1,this._strokeEnd(n))},this.velocityFilterWeight=r.velocityFilterWeight||.7,this.minWidth=r.minWidth||.5,this.maxWidth=r.maxWidth||2.5,this.throttle="throttle"in r?r.throttle:16,this.minDistance="minDistance"in r?r.minDistance:5,this.dotSize=r.dotSize||0,this.penColor=r.penColor||"black",this.backgroundColor=r.backgroundColor||"rgba(0,0,0,0)",this.compositeOperation=r.compositeOperation||"source-over",this._strokeMoveUpdate=this.throttle?zn(te.prototype._strokeUpdate,this.throttle):te.prototype._strokeUpdate,this._ctx=t.getContext("2d"),this.clear(),this.on()}clear(){const{_ctx:t,canvas:r}=this;t.fillStyle=this.backgroundColor,t.clearRect(0,0,r.width,r.height),t.fillRect(0,0,r.width,r.height),this._data=[],this._reset(this._getPointGroupOptions()),this._isEmpty=!0}fromDataURL(t,r={}){return new Promise((n,s)=>{const i=new Image,o=r.ratio||window.devicePixelRatio||1,a=r.width||this.canvas.width/o,l=r.height||this.canvas.height/o,c=r.xOffset||0,u=r.yOffset||0;this._reset(this._getPointGroupOptions()),i.onload=()=>{this._ctx.drawImage(i,c,u,a,l),n()},i.onerror=d=>{s(d)},i.crossOrigin="anonymous",i.src=t,this._isEmpty=!1})}toDataURL(t="image/png",r){switch(t){case"image/svg+xml":return typeof r!="object"&&(r=void 0),`data:image/svg+xml;base64,${btoa(this.toSVG(r))}`;default:return typeof r!="number"&&(r=void 0),this.canvas.toDataURL(t,r)}}on(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",this.canvas.style.userSelect="none";const t=/Macintosh/.test(navigator.userAgent)&&"ontouchstart"in document;window.PointerEvent&&!t?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())}off(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.style.userSelect="auto",this.canvas.removeEventListener("pointerdown",this._handlePointerStart),this.canvas.removeEventListener("pointermove",this._handlePointerMove),this.canvas.ownerDocument.removeEventListener("pointerup",this._handlePointerEnd),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("mousemove",this._handleMouseMove),this.canvas.ownerDocument.removeEventListener("mouseup",this._handleMouseUp),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this.canvas.removeEventListener("touchmove",this._handleTouchMove),this.canvas.removeEventListener("touchend",this._handleTouchEnd)}isEmpty(){return this._isEmpty}fromData(t,{clear:r=!0}={}){r&&this.clear(),this._fromData(t,this._drawCurve.bind(this),this._drawDot.bind(this)),this._data=this._data.concat(t)}toData(){return this._data}_getPointGroupOptions(t){return{penColor:t&&"penColor"in t?t.penColor:this.penColor,dotSize:t&&"dotSize"in t?t.dotSize:this.dotSize,minWidth:t&&"minWidth"in t?t.minWidth:this.minWidth,maxWidth:t&&"maxWidth"in t?t.maxWidth:this.maxWidth,velocityFilterWeight:t&&"velocityFilterWeight"in t?t.velocityFilterWeight:this.velocityFilterWeight,compositeOperation:t&&"compositeOperation"in t?t.compositeOperation:this.compositeOperation}}_strokeBegin(t){this.dispatchEvent(new CustomEvent("beginStroke",{detail:t}));const r=this._getPointGroupOptions(),n=Object.assign(Object.assign({},r),{points:[]});this._data.push(n),this._reset(r),this._strokeUpdate(t)}_strokeUpdate(t){if(this._data.length===0){this._strokeBegin(t);return}this.dispatchEvent(new CustomEvent("beforeUpdateStroke",{detail:t}));const r=t.clientX,n=t.clientY,s=t.pressure!==void 0?t.pressure:t.force!==void 0?t.force:0,i=this._createPoint(r,n,s),o=this._data[this._data.length-1],a=o.points,l=a.length>0&&a[a.length-1],c=l?i.distanceTo(l)<=this.minDistance:!1,u=this._getPointGroupOptions(o);if(!l||!(l&&c)){const d=this._addPoint(i,u);l?d&&this._drawCurve(d,u):this._drawDot(i,u),a.push({time:i.time,x:i.x,y:i.y,pressure:i.pressure})}this.dispatchEvent(new CustomEvent("afterUpdateStroke",{detail:t}))}_strokeEnd(t){this._strokeUpdate(t),this.dispatchEvent(new CustomEvent("endStroke",{detail:t}))}_handlePointerEvents(){this._drawningStroke=!1,this.canvas.addEventListener("pointerdown",this._handlePointerStart),this.canvas.addEventListener("pointermove",this._handlePointerMove),this.canvas.ownerDocument.addEventListener("pointerup",this._handlePointerEnd)}_handleMouseEvents(){this._drawningStroke=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown),this.canvas.addEventListener("mousemove",this._handleMouseMove),this.canvas.ownerDocument.addEventListener("mouseup",this._handleMouseUp)}_handleTouchEvents(){this.canvas.addEventListener("touchstart",this._handleTouchStart),this.canvas.addEventListener("touchmove",this._handleTouchMove),this.canvas.addEventListener("touchend",this._handleTouchEnd)}_reset(t){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(t.minWidth+t.maxWidth)/2,this._ctx.fillStyle=t.penColor,this._ctx.globalCompositeOperation=t.compositeOperation}_createPoint(t,r,n){const s=this.canvas.getBoundingClientRect();return new Vt(t-s.left,r-s.top,n,new Date().getTime())}_addPoint(t,r){const{_lastPoints:n}=this;if(n.push(t),n.length>2){n.length===3&&n.unshift(n[0]);const s=this._calculateCurveWidths(n[1],n[2],r),i=ce.fromPoints(n,s);return n.shift(),i}return null}_calculateCurveWidths(t,r,n){const s=n.velocityFilterWeight*r.velocityFrom(t)+(1-n.velocityFilterWeight)*this._lastVelocity,i=this._strokeWidth(s,n),o={end:i,start:this._lastWidth};return this._lastVelocity=s,this._lastWidth=i,o}_strokeWidth(t,r){return Math.max(r.maxWidth/(t+1),r.minWidth)}_drawCurveSegment(t,r,n){const s=this._ctx;s.moveTo(t,r),s.arc(t,r,n,0,2*Math.PI,!1),this._isEmpty=!1}_drawCurve(t,r){const n=this._ctx,s=t.endWidth-t.startWidth,i=Math.ceil(t.length())*2;n.beginPath(),n.fillStyle=r.penColor;for(let o=0;o<i;o+=1){const a=o/i,l=a*a,c=l*a,u=1-a,d=u*u,h=d*u;let b=h*t.startPoint.x;b+=3*d*a*t.control1.x,b+=3*u*l*t.control2.x,b+=c*t.endPoint.x;let y=h*t.startPoint.y;y+=3*d*a*t.control1.y,y+=3*u*l*t.control2.y,y+=c*t.endPoint.y;const x=Math.min(t.startWidth+c*s,r.maxWidth);this._drawCurveSegment(b,y,x)}n.closePath(),n.fill()}_drawDot(t,r){const n=this._ctx,s=r.dotSize>0?r.dotSize:(r.minWidth+r.maxWidth)/2;n.beginPath(),this._drawCurveSegment(t.x,t.y,s),n.closePath(),n.fillStyle=r.penColor,n.fill()}_fromData(t,r,n){for(const s of t){const{points:i}=s,o=this._getPointGroupOptions(s);if(i.length>1)for(let a=0;a<i.length;a+=1){const l=i[a],c=new Vt(l.x,l.y,l.pressure,l.time);a===0&&this._reset(o);const u=this._addPoint(c,o);u&&r(u,o)}else this._reset(o),n(i[0],o)}}toSVG({includeBackgroundColor:t=!1}={}){const r=this._data,n=Math.max(window.devicePixelRatio||1,1),s=0,i=0,o=this.canvas.width/n,a=this.canvas.height/n,l=document.createElementNS("http://www.w3.org/2000/svg","svg");if(l.setAttribute("xmlns","http://www.w3.org/2000/svg"),l.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),l.setAttribute("viewBox",`${s} ${i} ${o} ${a}`),l.setAttribute("width",o.toString()),l.setAttribute("height",a.toString()),t&&this.backgroundColor){const c=document.createElement("rect");c.setAttribute("width","100%"),c.setAttribute("height","100%"),c.setAttribute("fill",this.backgroundColor),l.appendChild(c)}return this._fromData(r,(c,{penColor:u})=>{const d=document.createElement("path");if(!isNaN(c.control1.x)&&!isNaN(c.control1.y)&&!isNaN(c.control2.x)&&!isNaN(c.control2.y)){const h=`M ${c.startPoint.x.toFixed(3)},${c.startPoint.y.toFixed(3)} C ${c.control1.x.toFixed(3)},${c.control1.y.toFixed(3)} ${c.control2.x.toFixed(3)},${c.control2.y.toFixed(3)} ${c.endPoint.x.toFixed(3)},${c.endPoint.y.toFixed(3)}`;d.setAttribute("d",h),d.setAttribute("stroke-width",(c.endWidth*2.25).toFixed(3)),d.setAttribute("stroke",u),d.setAttribute("fill","none"),d.setAttribute("stroke-linecap","round"),l.appendChild(d)}},(c,{penColor:u,dotSize:d,minWidth:h,maxWidth:b})=>{const y=document.createElement("circle"),x=d>0?d:(h+b)/2;y.setAttribute("r",x.toString()),y.setAttribute("cx",c.x.toString()),y.setAttribute("cy",c.y.toString()),y.setAttribute("fill",u),l.appendChild(y)}),l.outerHTML}}function Gn(e){let t,r='<span class="label-text">เลขประจำตัวประชาชน*</span>',n,s,i,o,a,l,c=(e[8]||"")+"",u;return{c(){t=tt("label"),t.innerHTML=r,n=Wt(),s=tt("input"),o=Wt(),a=tt("div"),l=tt("span"),u=Me(c),this.h()},l(d){t=et(d,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),se(t)!=="svelte-qb53un"&&(t.innerHTML=r),n=Lt(d),s=et(d,"INPUT",{type:!0,name:!0,class:!0}),o=Lt(d),a=et(d,"DIV",{class:!0});var h=xt(a);l=et(h,"SPAN",{class:!0});var b=xt(l);u=Fe(b,c),b.forEach(j),h.forEach(j),this.h()},h(){z(t,"class","label"),z(t,"for","personalid"),z(s,"type","text"),z(s,"name","personalid"),z(s,"class",i="input input-bordered w-full max-w-xs "+(e[8]?"input-error":"")),z(l,"class","label-text-alt text-error"),z(a,"class","label")},m(d,h){dt(d,t,h),dt(d,n,h),dt(d,s,h),dt(d,o,h),dt(d,a,h),V(a,l),V(l,u)},p(d,h){h&256&&i!==(i="input input-bordered w-full max-w-xs "+(d[8]?"input-error":""))&&z(s,"class",i),h&256&&c!==(c=(d[8]||"")+"")&&Ne(u,c)},d(d){d&&(j(t),j(n),j(s),j(o),j(a))}}}function Hn(e){let t,r,n=(e[8]||"")+"",s;return{c(){t=tt("div"),r=tt("span"),s=Me(n),this.h()},l(i){t=et(i,"DIV",{class:!0});var o=xt(t);r=et(o,"SPAN",{class:!0});var a=xt(r);s=Fe(a,n),a.forEach(j),o.forEach(j),this.h()},h(){z(r,"class","label-text-alt text-error"),z(t,"class","label")},m(i,o){dt(i,t,o),V(t,r),V(r,s)},p(i,o){o&256&&n!==(n=(i[8]||"")+"")&&Ne(s,n)},d(i){i&&j(t)}}}function Kn(e){let t,r,n,s,i,o,a,l="ลบ",c,u,d,h,b="ลงชื่อเลย",y,x,O;return n=new Ae({props:{for:"personalid",$$slots:{default:[Gn,({messages:p})=>({8:p}),({messages:p})=>p?256:0]},$$scope:{ctx:e}}}),u=new Ae({props:{for:"signature",$$slots:{default:[Hn,({messages:p})=>({8:p}),({messages:p})=>p?256:0]},$$scope:{ctx:e}}}),{c(){t=tt("form"),r=tt("div"),fe(n.$$.fragment),s=Wt(),i=tt("canvas"),o=Wt(),a=tt("button"),a.textContent=l,c=Wt(),fe(u.$$.fragment),d=Wt(),h=tt("button"),h.textContent=b,this.h()},l(p){t=et(p,"FORM",{});var k=xt(t);r=et(k,"DIV",{class:!0});var F=xt(r);he(n.$$.fragment,F),F.forEach(j),s=Lt(k),i=et(k,"CANVAS",{}),xt(i).forEach(j),o=Lt(k),a=et(k,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),se(a)!=="svelte-1l97cx7"&&(a.textContent=l),c=Lt(k),he(u.$$.fragment,k),d=Lt(k),h=et(k,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),se(h)!=="svelte-11anhd2"&&(h.textContent=b),k.forEach(j),this.h()},h(){z(r,"class","form-control w-full max-w-xs"),z(a,"type","button"),z(a,"class","btn"),z(h,"type","submit"),z(h,"class","btn btn-primary")},m(p,k){dt(p,t,k),V(t,r),me(n,r,null),V(t,s),V(t,i),e[3](i),V(t,o),V(t,a),V(t,c),me(u,t,null),V(t,d),V(t,h),y=!0,x||(O=[tn(a,"click",e[2]),en(e[1].call(null,t))],x=!0)},p(p,[k]){const F={};k&768&&(F.$$scope={dirty:k,ctx:p}),n.$set(F);const T={};k&768&&(T.$$scope={dirty:k,ctx:p}),u.$set(T)},i(p){y||(jt(n.$$.fragment,p),jt(u.$$.fragment,p),y=!0)},o(p){Rt(n.$$.fragment,p),Rt(u.$$.fragment,p),y=!1},d(p){p&&j(t),pe(n),e[3](null),pe(u),x=!1,nn(O)}}}function Xn(e,t,r){let n,s;const i=Rn({personalid:Se([jn(),Bn(13,"รหัสประชาชนต้องมี 13 หลัก")]),signature:Se("กรุณาเซ็นชื่อ")}),{form:o,setTouched:a,setData:l}=Tn({validate(d){try{xe(i,d)}catch(h){return $n(h).nested}return{}},onSubmit(d){const h=xe(i,d);console.log(h)},extend:On});De(()=>{s=new te(n),s.addEventListener("endStroke",()=>{a("signature",!0),l("signature",s.toDataURL())})});function c(){s.clear(),l("signature",void 0)}function u(d){Te[d?"unshift":"push"](()=>{n=d,r(0,n)})}return[n,o,c,u]}class Jn extends ke{constructor(t){super(),Pe(this,t,Xn,Kn,ae,{})}}export{Jn as default};
